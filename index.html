<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุฏูุฑ ุงููุดุงุฑูุน - ูุธุงู ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน ุงููุชูุงูู</title>
    
    <!-- ุงูุฃููููุงุช ูุงูุฎุทูุท -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- ููุชุจุฉ ูุฎุทุท ุฌุงูุช -->
    <script src="https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.js"></script>
    <link rel="stylesheet" href="https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.css">
    
    <!-- ูููุงุช CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐</text></svg>">
    
    <!-- PWA Icons -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%233b82f6'/><text x='50' y='60' font-size='60' text-anchor='middle' fill='white'>๐</text></svg>">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ูุฏูุฑ ุงููุดุงุฑูุน">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-TileColor" content="#3b82f6">
    <meta name="theme-color" content="#3b82f6">
</head>
<body>
    <!-- ุดุงุดุฉ ุงูุชุญููู -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>ูุฏูุฑ ุงููุดุงุฑูุน</h2>
            <p>ุฌุงุฑู ุงูุชุญููู...</p>
        </div>
    </div>

    <!-- ุงูุชุทุจูู ุงูุฑุฆูุณู -->
    <div id="app" class="app-container">
        <!-- ุงูุดุฑูุท ุงูุนููู -->
        <header id="header" class="header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="app-title">
                        <i class="fas fa-project-diagram"></i>
                        ูุฏูุฑ ุงููุดุงุฑูุน
                    </h1>
                </div>
                
                <div class="header-center">
                    <div class="search-container">
                        <input type="search" placeholder="ุงูุจุญุซ ูู ุงููุดุงุฑูุน ูุงูููุงู..." class="search-input">
                        <i class="fas fa-search search-icon"></i>
                    </div>
                </div>
                
                <div class="header-right">
                    <div class="header-actions">
                        <button class="btn btn-icon" title="ุงูุชูุจููุงุช">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge">3</span>
                        </button>
                        
                        <div class="user-menu">
                            <button class="user-avatar" id="user-menu-btn">
                                <i class="fas fa-user"></i>
                            </button>
                            <div class="user-dropdown" id="user-dropdown">
                                <div class="user-info">
                                    <div class="user-name" id="user-name">ุฃุญูุฏ ูุญูุฏ</div>
                                    <div class="user-email" id="user-email">ahmed@example.com</div>
                                </div>
                                <div class="dropdown-divider"></div>
                                <a href="#" class="dropdown-item">
                                    <i class="fas fa-user-cog"></i>
                                    ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ
                                </a>
                                <a href="#" class="dropdown-item" onclick="app.exportData()">
                                    <i class="fas fa-download"></i>
                                    ุชุตุฏูุฑ ุงูุจูุงูุงุช
                                </a>
                                <a href="#" class="dropdown-item" onclick="app.showAbout()">
                                    <i class="fas fa-info-circle"></i>
                                    ุญูู ุงูุชุทุจูู
                                </a>
                                <div class="dropdown-divider"></div>
                                <a href="#" class="dropdown-item" onclick="auth.handleLogout()">
                                    <i class="fas fa-sign-out-alt"></i>
                                    ุชุณุฌูู ุงูุฎุฑูุฌ
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
        <aside id="sidebar" class="sidebar">
            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-view="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>ููุญุฉ ุงูุชุญูู</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-view="projects">
                            <i class="fas fa-folder-open"></i>
                            <span>ุงููุดุงุฑูุน</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-view="tasks">
                            <i class="fas fa-tasks"></i>
                            <span>ุงูููุงู</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-view="gantt">
                            <i class="fas fa-chart-gantt"></i>
                            <span>ูุฎุทุท ุฌุงูุช</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-view="team">
                            <i class="fas fa-users"></i>
                            <span>ุงููุฑูู</span>
                        </a>
                    </li>
                </ul>
                
                <div class="sidebar-footer">
                    <div class="app-version">
                        <small>ุงูุฅุตุฏุงุฑ 1.0.0</small>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
        <main id="main-content" class="main-content">
            <!-- ููุญุฉ ุงูุชุญูู -->
            <div id="dashboard-view" class="view active">
                <div class="view-header">
                    <h2>ููุญุฉ ุงูุชุญูู</h2>
                    <p>ูุธุฑุฉ ุนุงูุฉ ุนูู ูุดุงุฑูุนู ูููุงูู</p>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-folder"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="total-projects">0</div>
                            <div class="stat-label">ุฅุฌูุงูู ุงููุดุงุฑูุน</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="total-tasks">0</div>
                            <div class="stat-label">ุฅุฌูุงูู ุงูููุงู</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="completed-tasks">0</div>
                            <div class="stat-label">ุงูููุงู ุงูููุชููุฉ</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="overdue-tasks">0</div>
                            <div class="stat-label">ุงูููุงู ุงููุชุฃุฎุฑุฉ</div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h3>ุงููุดุงุฑูุน ุงูุญุฏูุซุฉ</h3>
                            <a href="#" class="view-all-link" onclick="app.showView('projects')">
                                ุนุฑุถ ุงููู <i class="fas fa-arrow-left"></i>
                            </a>
                        </div>
                        <div id="recent-projects" class="projects-grid">
                            <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ JavaScript -->
                        </div>
                    </div>
                    
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h3>ุงูููุงู ุงููุงุฏูุฉ</h3>
                            <a href="#" class="view-all-link" onclick="app.showView('tasks')">
                                ุนุฑุถ ุงููู <i class="fas fa-arrow-left"></i>
                            </a>
                        </div>
                        <div id="upcoming-tasks-list" class="tasks-list">
                            <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุตูุญุฉ ุงููุดุงุฑูุน -->
            <div id="projects-view" class="view">
                <div class="view-header">
                    <h2>ุงููุดุงุฑูุน</h2>
                    <div class="view-actions">
                        <button class="btn btn-primary" onclick="projects.showAddProjectModal()">
                            <i class="fas fa-plus"></i>
                            ูุดุฑูุน ุฌุฏูุฏ
                        </button>
                    </div>
                </div>
                
                <div class="view-filters">
                    <div class="filter-group">
                        <select id="filter-project-status" class="form-select">
                            <option value="">ุฌููุน ุงูุญุงูุงุช</option>
                            <option value="active">ูุดุท</option>
                            <option value="completed">ููุชูู</option>
                            <option value="on-hold">ูุชููู</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="filter-project-priority" class="form-select">
                            <option value="">ุฌููุน ุงูุฃููููุงุช</option>
                            <option value="high">ุนุงููุฉ</option>
                            <option value="medium">ูุชูุณุทุฉ</option>
                            <option value="low">ููุฎูุถุฉ</option>
                        </select>
                    </div>
                </div>
                
                <div id="projects-list" class="projects-grid">
                    <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ JavaScript -->
                </div>
            </div>

            <!-- ุตูุญุฉ ุงูููุงู -->
            <div id="tasks-view" class="view">
                <div class="view-header">
                    <h2>ุงูููุงู</h2>
                    <div class="view-actions">
                        <button class="btn btn-primary" onclick="tasks.showAddTaskModal()">
                            <i class="fas fa-plus"></i>
                            ูููุฉ ุฌุฏูุฏุฉ
                        </button>
                    </div>
                </div>
                
                <div class="view-filters">
                    <div class="filter-group">
                        <select id="filter-project" class="form-select">
                            <option value="">ุฌููุน ุงููุดุงุฑูุน</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="filter-status" class="form-select">
                            <option value="">ุฌููุน ุงูุญุงูุงุช</option>
                            <option value="pending">ููุฏ ุงูุงูุชุธุงุฑ</option>
                            <option value="in-progress">ุฌุงุฑู</option>
                            <option value="completed">ููุชููุฉ</option>
                            <option value="overdue">ูุชุฃุฎุฑุฉ</option>
                        </select>
                    </div>
                </div>
                
                <div id="tasks-list" class="tasks-list">
                    <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ JavaScript -->
                </div>
            </div>

            <!-- ุตูุญุฉ ูุฎุทุท ุฌุงูุช -->
            <div id="gantt-view" class="view">
                <div class="view-header">
                    <h2>ูุฎุทุท ุฌุงูุช</h2>
                    <div class="view-actions">
                        <div class="filter-group">
                            <select id="gantt-project-filter" class="form-select">
                                <option value="">ุฌููุน ุงููุดุงุฑูุน</option>
                            </select>
                        </div>
                        <div class="gantt-controls">
                            <button class="btn btn-sm btn-secondary" onclick="ganttManager.zoomIn()" title="ุชูุจูุฑ">
                                <i class="fas fa-search-plus"></i>
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="ganttManager.zoomOut()" title="ุชุตุบูุฑ">
                                <i class="fas fa-search-minus"></i>
                            </button>
                            <button class="btn btn-sm btn-secondary" onclick="ganttManager.resetZoom()" title="ุฅุนุงุฏุฉ ุชุนููู">
                                <i class="fas fa-expand-arrows-alt"></i>
                            </button>
                        </div>
                        <button class="btn btn-secondary" onclick="ganttManager.exportToPNG()">
                            <i class="fas fa-download"></i>
                            ุชุตุฏูุฑ PNG
                        </button>
                    </div>
                </div>
                
                <div id="gantt_here" class="gantt-container">
                    <!-- ุณูุชู ููุคู ุจูุงุณุทุฉ ููุชุจุฉ ุฌุงูุช -->
                </div>
            </div>

            <!-- ุตูุญุฉ ุงููุฑูู -->
            <div id="team-view" class="view">
                <div class="view-header">
                    <h2>ุฅุฏุงุฑุฉ ุงููุฑูู</h2>
                    <div class="view-actions">
                        <button class="btn btn-primary" id="invite-member-btn">
                            <i class="fas fa-user-plus"></i>
                            ุฏุนูุฉ ุนุถู
                        </button>
                    </div>
                </div>
                
                <div class="team-stats">
                    <div class="team-stat">
                        <i class="fas fa-users"></i>
                        <span id="active-members-count">1</span>
                        <small>ุนุถู ูุดุท</small>
                    </div>
                    <div class="team-stat">
                        <i class="fas fa-clock"></i>
                        <span id="pending-invites-count">0</span>
                        <small>ุฏุนูุฉ ูุนููุฉ</small>
                    </div>
                </div>
                
                <div id="team-members" class="team-grid">
                    <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ JavaScript -->
                </div>
            </div>
        </main>
    </div>

    <!-- ุงูููุงูุฐ ุงูููุจุซูุฉ -->
    
    <!-- ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุชุณุฌูู ุงูุฏุฎูู</h3>
            </div>
            <form id="login-form" class="modal-body">
                <div class="form-group">
                    <label for="login-email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="login-email" class="form-input" required placeholder="example@domain.com">
                </div>
                <div class="form-group">
                    <label for="login-password">ูููุฉ ุงููุฑูุฑ</label>
                    <input type="password" id="login-password" class="form-input" required placeholder="ูููุฉ ุงููุฑูุฑ">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-sign-in-alt"></i>
                        ุชุณุฌูู ุงูุฏุฎูู
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="auth.showRegisterModal()">
                        ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
                    </button>
                </div>
                <div class="demo-info">
                    <small>ููุชุฌุฑุจุฉ: ุงุณุชุฎุฏู ุฃู ุจุฑูุฏ ุฅููุชุฑููู ููููุฉ ูุฑูุฑ</small>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅูุดุงุก ุญุณุงุจ -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</h3>
            </div>
            <form id="register-form" class="modal-body">
                <div class="form-group">
                    <label for="register-name">ุงูุงุณู ุงููุงูู</label>
                    <input type="text" id="register-name" class="form-input" required placeholder="ุงูุงุณู ุงููุงูู">
                </div>
                <div class="form-group">
                    <label for="register-email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="register-email" class="form-input" required placeholder="example@domain.com">
                </div>
                <div class="form-group">
                    <label for="register-password">ูููุฉ ุงููุฑูุฑ</label>
                    <input type="password" id="register-password" class="form-input" required placeholder="ูููุฉ ุงููุฑูุฑ">
                </div>
                <div class="form-group">
                    <label for="register-confirm-password">ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ</label>
                    <input type="password" id="register-confirm-password" class="form-input" required placeholder="ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-user-plus"></i>
                        ุฅูุดุงุก ุงูุญุณุงุจ
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="auth.showLoginModal()">
                        ูุฏูู ุญุณุงุจุ ุณุฌู ุงูุฏุฎูู
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ูุดุฑูุน -->
    <div id="add-project-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฅุถุงูุฉ ูุดุฑูุน ุฌุฏูุฏ</h3>
                <button class="modal-close" onclick="projects.hideModal('add-project-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="add-project-form" class="modal-body">
                <div class="form-group">
                    <label for="project-name">ุงุณู ุงููุดุฑูุน</label>
                    <input type="text" id="project-name" class="form-input" required placeholder="ุงุณู ุงููุดุฑูุน">
                </div>
                <div class="form-group">
                    <label for="project-description">ูุตู ุงููุดุฑูุน</label>
                    <textarea id="project-description" class="form-textarea" rows="3" placeholder="ูุตู ูุฎุชุตุฑ ูููุดุฑูุน"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="project-start-date">ุชุงุฑูุฎ ุงูุจุฏุงูุฉ</label>
                        <input type="date" id="project-start-date" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="project-end-date">ุชุงุฑูุฎ ุงูููุงูุฉ</label>
                        <input type="date" id="project-end-date" class="form-input" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="project-priority">ุงูุฃููููุฉ</label>
                        <select id="project-priority" class="form-select" required>
                            <option value="low">ููุฎูุถุฉ</option>
                            <option value="medium" selected>ูุชูุณุทุฉ</option>
                            <option value="high">ุนุงููุฉ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="project-color">ููู ุงููุดุฑูุน</label>
                        <input type="color" id="project-color" class="form-input" value="#3b82f6">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        ุฅุถุงูุฉ ุงููุดุฑูุน
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="projects.hideModal('add-project-modal')">
                        ุฅูุบุงุก
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ูููุฉ -->
    <div id="add-task-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ</h3>
                <button class="modal-close" onclick="projects.hideModal('add-task-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="add-task-form" class="modal-body">
                <div class="form-group">
                    <label for="task-project">ุงููุดุฑูุน</label>
                    <select id="task-project" class="form-select" required>
                        <option value="">ุงุฎุชุฑ ุงููุดุฑูุน</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="task-name">ุงุณู ุงููููุฉ</label>
                    <input type="text" id="task-name" class="form-input" required placeholder="ุงุณู ุงููููุฉ">
                </div>
                <div class="form-group">
                    <label for="task-description">ูุตู ุงููููุฉ</label>
                    <textarea id="task-description" class="form-textarea" rows="3" placeholder="ูุตู ูุฎุชุตุฑ ูููููุฉ"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-start-date">ุชุงุฑูุฎ ุงูุจุฏุงูุฉ</label>
                        <input type="date" id="task-start-date" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="task-end-date">ุชุงุฑูุฎ ุงูููุงูุฉ</label>
                        <input type="date" id="task-end-date" class="form-input" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-priority">ุงูุฃููููุฉ</label>
                        <select id="task-priority" class="form-select" required>
                            <option value="low">ููุฎูุถุฉ</option>
                            <option value="medium" selected>ูุชูุณุทุฉ</option>
                            <option value="high">ุนุงููุฉ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="task-status">ุงูุญุงูุฉ</label>
                        <select id="task-status" class="form-select" required>
                            <option value="pending" selected>ููุฏ ุงูุงูุชุธุงุฑ</option>
                            <option value="in-progress">ุฌุงุฑู</option>
                            <option value="completed">ููุชููุฉ</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        ุฅุถุงูุฉ ุงููููุฉ
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="projects.hideModal('add-task-modal')">
                        ุฅูุบุงุก
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฏุนูุฉ ุนุถู -->
    <div id="invite-member-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฏุนูุฉ ุนุถู ุฌุฏูุฏ</h3>
                <button class="modal-close" onclick="projects.hideModal('invite-member-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="invite-member-form" class="modal-body">
                <div class="form-group">
                    <label for="member-email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="member-email" class="form-input" required placeholder="example@domain.com">
                </div>
                <div class="form-group">
                    <label for="member-role">ุงูุตูุงุญูุฉ</label>
                    <select id="member-role" class="form-select" required>
                        <option value="viewer">ูุดุงูุฏ - ููููู ุนุฑุถ ุงููุดุงุฑูุน ููุท</option>
                        <option value="editor" selected>ูุญุฑุฑ - ููููู ุชุญุฑูุฑ ุงูููุงู</option>
                        <option value="admin">ูุฏูุฑ - ุตูุงุญูุงุช ูุงููุฉ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ุงููุดุงุฑูุน ุงููุณููุญุฉ</label>
                    <div id="member-projects" class="checkbox-group">
                        <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ JavaScript -->
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i>
                        ุฅุฑุณุงู ุงูุฏุนูุฉ
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="projects.hideModal('invite-member-modal')">
                        ุฅูุบุงุก
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ุญุงููุฉ ุงูุชูุจููุงุช -->
    <div id="notification-container" class="notification-container"></div>

    <!-- ุทุจูุฉ ุงูุชุฑุงูุจ ููุฌูุงู -->
    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <!-- ูููุงุช JavaScript -->
    <script>
        // ุฅุตูุงุญ ุณุฑูุน ููุชุทุจูู
        document.addEventListener('DOMContentLoaded', function() {
            // ุฅุฎูุงุก ุดุงุดุฉ ุงูุชุญููู ุจุนุฏ 3 ุซูุงูู
            setTimeout(function() {
                const loadingScreen = document.getElementById('loading-screen');
                if (loadingScreen) {
                    loadingScreen.classList.add('hidden');
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                        // ุนุฑุถ ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู
                        const loginModal = document.getElementById('login-modal');
                        if (loginModal) {
                            loginModal.classList.add('active');
                        }
                    }, 500);
                }
            }, 3000);
            
            // ุฑุจุท ุญุฏุซ ุชุณุฌูู ุงูุฏุฎูู
            const loginForm = document.getElementById('login-form');
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const email = document.getElementById('login-email').value;
                    const password = document.getElementById('login-password').value;
                    
                    if (email && password) {
                        // ุฅุฎูุงุก ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู
                        const loginModal = document.getElementById('login-modal');
                        if (loginModal) {
                            loginModal.classList.remove('active');
                        }
                        
                        // ุนุฑุถ ุงูุชุทุจูู
                        const app = document.getElementById('app');
                        if (app) {
                            app.style.display = 'grid';
                        }
                    }
                });
            }
        });
    </script>
    <script src="js/utils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/projects.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/gantt.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/team.js"></script>
    <script src="js/app.js"></script>
    
    <!-- ุชุณุฌูู Service Worker ููู PWA -->
    <script>
        // ุชุณุฌูู Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./js/sw.js')
                    .then(function(registration) {
                        console.log('Service Worker registered successfully:', registration.scope);
                        
                        // ุงูุชุญูู ูู ูุฌูุฏ ุชุญุฏูุซ
                        registration.addEventListener('updatefound', function() {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', function() {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // ุฅุดุนุงุฑ ุงููุณุชุฎุฏู ุจูุฌูุฏ ุชุญุฏูุซ
                                    if (window.notifications) {
                                        notifications.show('ุชุญุฏูุซ ุฌุฏูุฏ ูุชุงุญ! ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ ููุญุตูู ุนูู ุฃุญุฏุซ ุงูููุฒุงุช.', 'info', {
                                            persistent: true,
                                            actions: [
                                                { id: 'reload', label: 'ุฅุนุงุฏุฉ ุชุญููู' },
                                                { id: 'dismiss', label: 'ูุงุญูุงู' }
                                            ]
                                        });
                                    }
                                }
                            });
                        });
                    })
                    .catch(function(error) {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
        
        // ูุนุงูุฌุฉ ุชุซุจูุช ุงูุชุทุจูู (PWA)
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', function(e) {
            // ููุน ุนุฑุถ ุงูุชุซุจูุช ุงูุชููุงุฆู
            e.preventDefault();
            deferredPrompt = e;
            
            // ุฅุธูุงุฑ ุฒุฑ ุงูุชุซุจูุช ุงููุฎุตุต
            const installButton = document.createElement('button');
            installButton.className = 'btn btn-primary install-btn';
            installButton.innerHTML = '<i class="fas fa-download"></i> ุชุซุจูุช ุงูุชุทุจูู';
            installButton.style.position = 'fixed';
            installButton.style.bottom = '20px';
            installButton.style.right = '20px';
            installButton.style.zIndex = '9999';
            
            installButton.addEventListener('click', function() {
                // ุฅุฎูุงุก ุงูุฒุฑ
                installButton.style.display = 'none';
                
                // ุฅุธูุงุฑ ูุงูุฐุฉ ุงูุชุซุจูุช
                deferredPrompt.prompt();
                
                // ุงูุชุธุงุฑ ุงุฎุชูุงุฑ ุงููุณุชุฎุฏู
                deferredPrompt.userChoice.then(function(choiceResult) {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                        if (window.notifications) {
                            notifications.show('ุชู ุชุซุจูุช ุงูุชุทุจูู ุจูุฌุงุญ!', 'success');
                        }
                    } else {
                        console.log('User dismissed the install prompt');
                        // ุฅุนุงุฏุฉ ุฅุธูุงุฑ ุงูุฒุฑ ุจุนุฏ ูุชุฑุฉ
                        setTimeout(() => {
                            installButton.style.display = 'block';
                        }, 30000);
                    }
                    deferredPrompt = null;
                });
            });
            
            document.body.appendChild(installButton);
        });
        
        // ูุนุงูุฌุฉ ุชุซุจูุช ุงูุชุทุจูู ุจูุฌุงุญ
        window.addEventListener('appinstalled', function(e) {
            console.log('PWA was installed');
            if (window.notifications) {
                notifications.show('ุชู ุชุซุจูุช ุงูุชุทุจูู ุจูุฌุงุญ! ููููู ุงูุขู ุงููุตูู ุฅููู ูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ.', 'success');
            }
        });
        
        // ูุนุงูุฌุฉ ุชุบููุฑ ุญุงูุฉ ุงูุงุชุตุงู
        window.addEventListener('online', function() {
            if (window.notifications) {
                notifications.show('ุชู ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช', 'success');
            }
        });
        
        window.addEventListener('offline', function() {
            if (window.notifications) {
                notifications.show('ูุง ููุฌุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช. ุงูุชุทุจูู ูุนูู ูู ูุถุน ุนุฏู ุงูุงุชุตุงู.', 'warning', {
                    persistent: true
                });
            }
        });
    </script>
</body>
</html>

